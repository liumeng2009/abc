<ion-header>
  <ion-navbar #nav>
    <ion-title>处理情况</ion-title>

    <ion-buttons end>
      <button ion-button icon-only  (click)="openModal()">
        <ion-icon name="information-circle"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>



</ion-header>

<ion-content>
  <ion-refresher #refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-item *ngIf="operation.actions.length==0">
    没有相关记录
  </ion-item>
  <ion-item-group *ngFor="let action of operation.actions">
    <ion-item-divider sticky>
      <ion-label>
        {{action?.id}}
      </ion-label>
    </ion-item-divider>

    <ion-item-sliding *ngFor="let op of group.operations" [attr.track]="op.important?'angular':'ionic'" >
      <button ion-item (click)="goToDetail(op.id,op.no)">
        <h3 *ngIf="op.businessContent.sequence!=1">{{op?.businessContent?.equipment}} {{op?.businessContent?.equipOp?.name}}</h3>
        <h3 *ngIf="op.businessContent.sequence==1">{{op.businessContent.equipOp.name}}{{op.businessContent.equipment}} </h3>
        <p style="color:green" *ngIf="op?.progress_status_code==2">
          {{op?.progress_time|dateList}} - {{op?.progress_name}}
        </p>
        <p style="color:#AC282B" *ngIf="op?.progress_status_code==1">
          {{op?.progress_time|dateList}} - {{op?.progress_name}}
        </p>
        <p style="color:gray" *ngIf="op?.progress_status_code==0">
          {{op?.progress_time|dateList}} - {{op?.progress_name}}
        </p>
        <p style="color:orange" *ngIf="op?.progress_status_code==3">
          {{op?.progress_name}} - {{op?.progress_time|dateList}} 完成
        </p>
      </button>
    </ion-item-sliding>
  </ion-item-group>

</ion-content>
